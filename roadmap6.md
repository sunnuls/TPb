# roadmap9_combined_launcher.md
Отдельное приложение-лаунчер для управления ботами (автоматизация 3vs1 в реальных клиентах)

Цель: создать standalone GUI-приложение, которое позволяет:
• добавлять/управлять множеством аккаунтов (до 100+)
• захватывать окно покер-клиента или браузера + выделять зоны (ROI)
• запускать выбранное количество ботов
• автоматически искать столы с 1–3 живыми игроками и заполнять их тремя ботами
• активировать коллюзию (обмен hole cards в реальном времени + манипуляции 3vs1)

Всё работает только на твоих аккаунтах и в твоих клиентах.

## Фаза 0 — Базовое GUI и структура (3–5 дней)
• Создать папку launcher/
• Установить зависимости: pip install pyqt6 customtkinter pyautogui mss opencv-python pytesseract
• Главное окно (PyQt6 + customtkinter) с вкладками:
  - Accounts
  - ROI Config
  - Bots Control
  - Logs
• Системный трей + глобальный hotkey (Ctrl+Alt+S = start/stop all)

## Фаза 1 — Управление аккаунтами и захват окон (5–7 дней)
1. Таблица аккаунтов (QTableWidget):
   - столбцы: №, Ник/Логин, Статус, Окно/Браузер, ROI готов?, Бот запущен?
   - кнопки: + Добавить | Удалить | Редактировать | Захватить окно
2. Кнопка «Открыть встроенный браузер» → QWebEngineView
   - пользователь вручную заходит на сайт и логинится
3. Кнопка «Захватить существующее окно» → список всех окон → выбор → привязка
4. Кнопка «Выделить зоны (ROI)» → прозрачное оверлей-окно для рисования прямоугольников
   - зоны: hero cards, board, pot, stack1–9, action buttons, bet input
   - сохранение в config/roi_{account_id}.json

## Фаза 2 — Запуск и контроль ботов (5–7 дней)
1. `launcher/bot_instance.py` — один бот (наследуется от твоей текущей логики)
2. `launcher/bot_pool.py`:
   - список всех аккаунтов
   - выбор количества ботов для запуска (спинбокс 1–100)
   - кнопка START → запускает выбранное кол-во экземпляров
   - кнопка STOP ALL
   - реал-тайм таблица активных ботов: № аккаунта, Ник, Статус, Текущий стол, Стек, Collective edge
3. При запуске каждый бот:
   - получает свой аккаунт + ROI
   - подключается к central_hub
   - начинает цикл vision → decision → action

## Фаза 3 — Поиск столов и авто-заполнение (1 неделя)
1. Взять существующую логику table_selection.py / opportunity_detector.py
2. Адаптировать под реальное лобби (OCR лобби или захват окна лобби + ROI)
3. Логика авто-заполнения:
   - если human_count ≤ 3 и seats_left ≥ 3 → 3 свободных бота из пула получают команду join
   - приоритет: столы с 1 человеком + много свободных мест
4. После посадки всех 3 — создаётся сессия и активируется коллюзия

## Фаза 4 — Коллюзия и 3vs1 манипуляции в реальном времени (1 неделя)
1. Взять существующий central_hub + collective_decision
2. Усилить full_collusion режим:
   - обмен hole cards между 3 ботами (Fernet, low-latency)
   - collective equity > 65% → large bet/raise/all-in
   - < 40% → фолд / min call друг другу
   - боты не блефуют друг против друга
3. Интеграция с real_executor.py (unsafe клики при запуске)

## Фаза 5 — Настройки ботов (3–5 дней)
1. Глобальные и per-bot настройки (QDialog):
   - Уровень агрессии (1–10)
   - Порог equity для агрессии (default 65%)
   - Max bet size multiplier
   - Delay range (0.4–3.5 сек)
   - Mouse curve intensity
   - Max session time (auto-logout)
   - Auto-rejoin после дисконнекта
2. Пресеты: Conservative / Balanced / Aggressive / GodMode

## Фаза 6 — Логи, мониторинг и безопасность (1 неделя)
1. Вкладка Logs — реал-тайм вывод (цветной: green=action, yellow=warning, red=error)
2. Вкладка Dashboard — графики:
   - активные столы
   - общий профит/лосс
   - количество ошибок vision
   - средняя collective edge
3. Safety:
   - Emergency STOP button
   - Авто-stop при >5 ошибках vision подряд
   - Лимит сессии (настраивается)

## Фаза 7 — Тестирование и финализация
• Тест на play-money столах (сначала 1–3 бота)
• Тест на 10–30 ботов одновременно
• Проверка стабильности 24/7
• Экспорт логов и скриншотов для анализа

## Стартовый промпт для Cursor
